# Сайт риэлторского агентства

Сайт риэлторского агенства с информацией о квартирах и владельцах.

На главной странице сайта можно фильтровать квартиры по цене и типу(новойстрока или нет).
Есть возможность выбора по городу.
![](https://github.com/atskayasatana/Images/blob/df982985bf0b097c90fc9cfd6d86dd547d5ee071/main_page.png)

В админке сайта можно редактировать информацию о квартирах и пользователях.

![](https://github.com/atskayasatana/Images/blob/7336f60fd80568e487dabc436863b53a175a506b/admin_main.png)

На странице с квартирами можно отбирать квартиры по количеству комнат, наличию балкона и признаку новостройка(или нет):

![](https://github.com/atskayasatana/Images/blob/7336f60fd80568e487dabc436863b53a175a506b/flat_main.png)

Номера телефонов пользователей были преобразованы к стандартному формату +7ХХХZZZZZZZ(поле Нормализованный номер телефона)

![](https://github.com/atskayasatana/Images/blob/ba26c5236d73954af163bd7e670f6d869296976a/owners.png)

Для каждой квартиры отображается информация о ее владельцах.

![](https://github.com/atskayasatana/Images/blob/ba26c5236d73954af163bd7e670f6d869296976a/flat_owner.png)

## Запуск

- Скачайте архив с кодом к себе на компьютер
- Создайте файл .env с переменными окружения в директории проекта
- Установите зависимости командой `pip install -r requirements.txt`
- Создайте файл базы данных и сразу примените все миграции командой `python3 manage.py migrate`
- Запустите сервер командой `python3 manage.py runserver`, локальная версия сайта будет здесь:http://127.0.0.1:8000/

## Переменные окружения

Часть настроек проекта берётся из переменных окружения. Чтобы их определить, создайте файл `.env` рядом с `manage.py` и запишите туда данные в таком формате: 
```
DEBUG=TRUE
SECRET_KEY=#секретный ключ
ALLOWED_HOSTS=#список разрешенных хостов 
DATABASE='sqlite:///db.sqlite3'# для данного проекта использовалась sqlite3, прописываем свою
```

## Работа с данными

Удаление, добавление и редактирование информации о квартирах осуществляется в админке сайта.

Для того, чтобы получить туда доступ нужно создать суперпользователя и пароль доступа:
```
python manage.py createsuperuser
```
Указанные логин и пароль будут использоваться для дальнейшей работы в админке сайта.

## Структура данных

Для сайта использовались 3 модели данных:

-Flat

Модель с информацией о квартирах: город, район, площадь, количество комнат и т.д.

-Owner 

Модель с информацией о пользователях: ФИО, номер телефона

-Complaint 

Данные о жалобах на квартиру от пользователей: кто пожаловался и квартира, на которую пожаловались.

Модель Flat связана с моделью Owner, у каждого владельца есть квартиры и у каждой квартиры есть владелецы.

## Цели проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org).
